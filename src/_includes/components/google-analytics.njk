          <script>
    let scrollPosition = 0;
/* Open */

function openNav() {
if(document.getElementById("myNav").style.height === "100%"){
window.scrollTo(0, scrollPosition);
document.getElementById("myNav").style.height = 0;
document.getElementById("navToc").classList.remove("onclickbuttonon");
}else{
    scrollPosition = window.pageYOffset;
    if (Math.sign(scrollPosition-55)==-1){
window.scrollBy(0, 60);
scrollPosition =60;
}
document.getElementById("myNav").style.height = "100%";
document.getElementById("navToc").classList.add("onclickbuttonon");
}
}   

</script>
          
            <script>
         
            
            document.addEventListener("DOMContentLoaded", function() { 

const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]');

function switchTheme(e) {
    if (e.target.checked) {
        document.documentElement.setAttribute('data-theme', 'dark');
    }
    else {
        document.documentElement.setAttribute('data-theme', 'light');
    }    
}

toggleSwitch.addEventListener('change', switchTheme, false);

function switchTheme(e) {
    if (e.target.checked) {
        document.documentElement.setAttribute('data-theme', 'dark');
        localStorage.setItem('theme', 'dark'); //add this
    }
    else {
        document.documentElement.setAttribute('data-theme', 'light');
        localStorage.setItem('theme', 'light'); //add this
    }    
}

const currentTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;

if (currentTheme) {
    document.documentElement.setAttribute('data-theme', currentTheme);

    if (currentTheme === 'dark') {
        toggleSwitch.checked = true;
    }
}
});


  </script>

  {% if build.env === "production" %}
    <script>
      window.ga = function () {
        ga
          .q
          .push(arguments)
      };
      ga.q = [];
      ga.l = + new Date;

      // https://twitter.com/TimVereecke/status/1352535945229295617
      // https://developers.google.com/analytics/devguides/collection/gtagjs/user-timings#sampling_considerations
      ga('create', {
        trackingId: 'UA-1655999-10',
        cookieDomain: 'auto',
        siteSpeedSampleRate: 10
      });

      ga('set', 'transport', 'beacon');
      ga('set', 'anonymizeIp', true);
      if (window.viewport_width > 0) {
        ga('set', {
          dimension1: window.screen_density,
          dimension2: window.viewport_width,
          dimension3: window.root_font_size
        });
      } else {
        ga('set', {
          dimension1: window.screen_density,
          dimension2: 0,
          dimension3: window.root_font_size
        });
      }
      ga('set', 'dimension4', 'online');
      ga('send', 'pageview');
    </script>

    <script src="https://www.google-analytics.com/analytics.js" defer></script>
  {% endif %}
