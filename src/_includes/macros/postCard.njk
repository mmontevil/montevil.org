{% from "macros/meta.njk" import meta %}
{% from "macros/card.njk" import card %}

{% macro postCard(article) %}
  {% set content %}
  <p class="card__body p-summary">{%if article.data.excerpt%}{{article.data.excerpt | safe}}{%else%}
  {{ article.templateContent | excerpt | striptags | safe }}{%endif%}
  </p>
  {% endset %}

  {% set meta %}
  {{ meta(article) }}
  {% endset %}

  {{ card(
    type = 'post',
    lang = article.data.lang,
    title = article.data.title,
    illustration = article.data.illustration,
    url = article.url,
    content = content,
    meta = meta) }}
{% endmacro %}
