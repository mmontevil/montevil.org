

{% macro videoEmbed(video) %}
 
 {% set regExp = r/.*youtube.*/g %}
 {% set regExp2 = r/.*mp4.*/g %}
 {% set regExp2b = r/.*MP4.*/g %}
{% set regExp3 = r/.*mp3.*/g %}
{% set regExp4 = r/.*soundcloud.*/g %}

 
{% if regExp.test(video) %}

{{video | markdownify | safe }}

{% elif regExp2.test(video) or  regExp2b.test(video)%}
<video controls class="wrap">
  <source src="{{video}}" type="video/mp4">
  <p>Your browser doesn't support HTML5 video. Here is
     a <a href="{{video}}">link to the video</a> instead.</p>
</video>

{% elif regExp3.test(video) %}
    <audio
        controls
        src="{{video}}">
            Your browser does not support the
            <code>audio</code> element.  Here is
     a <a href="{{video}}">link to the file</a> instead.
    </audio>



{% elif regExp4.test(video) %}
<iframe width="100%" height="300" scrolling="no" frameborder="no" allow="autoplay" src="{{video}}&color=%23ff5500&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"></iframe>

{% endif %}
 

{% endmacro %}
