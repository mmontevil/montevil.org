---
layout: content
upnav: toc-site
eleventyComputed:
    keyword : "{{ bibentry.keyword }}"
    abstract : "{{ bibentry.abstract }}"
    bibib: "src/assets/bib/{{page.fileSlug}}.bib"
    bibout: "/assets/bib/{{page.fileSlug}}.bib"
    pdfout: "/assets/pdf/{{page.fileSlug}}.pdf"
    datepub: "{%- set date0 = bibentry.issued['date-parts'][0] -%}{%- if  date0 -%}{{- 0 if date0[0]<10  -}}{{- date0[0] if date0[0] else 2021 -}}-{{- 0 if (date0[1]<10 or not date0[2])  -}}{{- date0[1] if date0[1] else 01 -}}-{{- 0 if (date0[2]<10 or not date0[2])  -}}{{- date0[2] if date0[2] else 01 -}}{%- else -%}Submitted{%- endif -%}"
    orderDate: "{%- if datepub=='Submitted' -%}{{- page.date | attributeDate -}}{%- else -%}{{- datepub     -}}{%- endif -%}"
---

{#
<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
   document.addEventListener('DOMContentLoaded', function(event) {

  anchors.add();

});
</script> 
#}
 {#  tags: 
       - "  {{ pubmeta.keyword | splarray2 }}"
tags: [{% for entry in keyword.split(', ') %}
  \"{{entry}}\"{% if not loop.last %},{%- endif -%}
{% endfor %}]
{{keyword | splarray}}

{{hop}}

{{- page.date | attributeDate | dump-}}

{{ orderDate    | dump }}
#}


{% from "macros/pubuttons.njk" import pubuttons %}
{% set item = {
      pdfout: pdfout,
      bibout: bibout,
      hasPDF: hasPDF,
      hasFullText: hasFullText,       
      peerReview: peerReview,
      type: type,
      typepub: typepub,
      lang: lang,
      page: {
          url: page.url
          },
      bibentry: {
          DOI: bibentry.DOI,
          URL: bibentry.URL
          }
      }
%}


{% if not  (excerpt === undefined) %}
<div class="lead">
<p> {{excerpt}}</p>
</div>
{%endif%}


{#
<p class="indent"><span class="paragraphHead">Abstract: </span>
{{bibentry.abstract |safe}}
</p>#}

   {% from "macros/publabel.njk" import publabel %}

  <div id="CitationAnchor" class="citationW indent"><p class="svgfill">{{publabel(item)|safe}} {% icon "reference", "reference" %} {{ bibib | bibcite|divRemove|safe}}</p>
  <p> {{pubuttons(item) |safe}}</p>
  </div>
{% if  noToc %}
  <p class="indent">
  {{abstract |safe}}
  </p>
  {%else%}
  
<hr class="breakk">

 <h2 class="titleHead indent" id="toc-site"> Table of contents</h2>
  <h3 class="subtitleHead indent" > Reading time: ~{{ content   | readingTime({speed:170}) }}</h3>
  {{ content | toc | safe }}
  
  {% from "macros/overlayToc.njk" import overlayToc %}
{{overlayToc(content,"",title)|safe}}
 {%endif%}
 


 <hr class="breakk">
{{ content |addAnchor | safe }}
 


