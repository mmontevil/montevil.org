---
title: Archives
isArchive: true
---

{% extends "./default.njk" %}

{% from "macros/itemCard.njk" import itemCard %}


{% set currentType = page.url | split("/") | offset(1) | first %}

{% set currentYear = page.url | split("/") | offset(2) | first %}
{% set regExpYear = r/^[0-9]{4}$/g %}
{% if not regExpYear.test(currentYear) %}
  {% set currentYear = false %}
{% endif %}

{% set currentMonth = page.url | split("/") | offset(3) | first %}
{% set regExpMonth = r/^[0-9]{2}$/g %}
{% if not regExpMonth.test(currentMonth) %}
  {% set currentMonth = false %}
{% endif %}
  
  
{% block content %}

  {% set cssFilename = "page-archives.css" %}
  {% include "add-css.njk" %}

  <h1 class= "wrap">
    {% block title %}
      {% if currentType == 'archives' %}
        Archives 
      {% else %}
        {{ currentType | capitalize }}        
      {% endif %}
    {% endblock %}
  </h1>
  <div class="archives ">
    {% include  "archiveTOC.njk" %}

<div id="myNav" class=" overlay" onclick="openNav()">
  <div class="wrap">
  <div class=" overlay-content ">
  <h2 class="center titleOverToc"> {{title}}</h2>
    {% include  "archiveTOC.njk" %}
  </div>
</div>  
   
   {# <iframe src="https://duckduckgo.com/search.html?duck=yes&site=montevil.org&prefill=Search DuckDuckGo&bgcolor=var(--color-bg)&focus=yes" style="background-color: var(--color-lighter-5);overflow:hidden;margin:auto;padding:0;width:483px;height:60px;" frameborder="0"></iframe>#}
</div>


    <div id="hits">
     <form method="get" id="search" action="http://duckduckgo.com/">
  <input type="hidden" name="sites" value="montevil.org"/>
  <input type="hidden" name="k8" value="var(--color-bg)"/>
  <input type="hidden" name="k9" value="var(--color-lighter-5)"/>
  <input type="hidden" name="kt" value="h"/>
  <input type="text" name="q" maxlength="255" placeholder="Search&hellip;" class="centerBlock searchBox" />
  <input type="submit" value="DuckDuckGo Search" style="visibility: hidden;" />
</form>

      <div>
        <div class="cards-list0">
          {% if currentMonth %}
            {% for item in collections[currentType + 'ByMonth'][currentYear + '/' + currentMonth] %}
                {{ itemCard(item,numbers.numbers2) }}
            {% endfor %}
          {% elif currentYear %}
            {% for item in collections[currentType + 'ByYear'][currentYear] | limit(10) %}
                {{ itemCard(item,numbers.numbers2) }}
            {% endfor %}
            {% if collections[currentType + 'ByYear'][currentYear].length > 10 %}
              <p>Filter by month to see more {{ currentType }} from year {{ currentYear }}.</p>
            {% endif %}
          {% else %}
            {% for item in collections[currentType] | limit(10) %}
                {{ itemCard(item,numbers.numbers2) }}
            {% endfor %}
            {% if collections[currentType].length > 10 %}
              <p class= "wrap">Filter by year and month to see more {{ currentType }}.</p>
            {% endif %}
          {% endif %}
        </div>
      </div>
    </div>
  </div>


{% endblock %}
